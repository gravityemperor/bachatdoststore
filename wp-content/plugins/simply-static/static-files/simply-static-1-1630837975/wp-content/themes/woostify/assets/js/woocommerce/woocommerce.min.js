"use strict";function woostifyInfiniteScroll(e){let t=document.querySelector(".products"),o=document.querySelector(".woostify-view-more");if(null==o||void 0===o)return!1;let n=o.querySelector(".woostify-loading-status"),a=o.getAttribute("data-loading_type"),c=o.querySelector(".w-view-more-button"),r=document.querySelector(".woocommerce-pagination ul.page-numbers"),i={path:function(){let e=window.location.hostname,t=window.location.protocol,o=window.location.pathname,n=this.loadCount+2,a=window.location.search.substring(1);return o.match(/(page\/)[0-9]+/)||(o=o+"page/"+n),""===a?t+"//"+e+o+"/":t+"//"+e+o+"/?"+a},append:".product",history:!1,hideNav:".woocommerce-pagination",loadOnScroll:"button"!==a};null==r||void 0===r?"button"===a?o.style.display="none":i.loadOnScroll=!1:"button"===a?(o.style.display="block",c.style.display="inline-flex"):i.loadOnScroll=!0;let s=new InfiniteScroll(t,i);s.loadCount=0,s.on("request",(function(e,t){"button"===a?c.classList.add("circle-loading"):n.style.display="inline-block"})),s.on("load",(function(e,t,o){let r=document.querySelectorAll(".woocommerce-pagination .page-numbers .page-numbers:not(.next):not(.prev)"),i=this.loadCount+1;"button"===a?c.classList.remove("circle-loading"):n.style.display="none",r.length?i>=r.length?"button"===a?c.style.display="none":(n.style.display="none",s.option({loadOnScroll:!1})):"button"!==a&&s.option({loadOnScroll:!0}):"button"===a?c.style.display="inline-flex":n.style.display="inline-block"})),s.on("last",(function(e,t){"button"===a?c.style.display="none":n.style.display="none"})),"button"===a&&e&&c.addEventListener("click",(function(){s.loadNextPage()}))}function cartSidebarOpen(){document.body.classList.contains("no-cart-sidebar")||document.documentElement.classList.add("cart-sidebar-open")}function eventCartSidebarOpen(){document.body.classList.add("updating-cart"),document.body.classList.remove("cart-updated")}function eventCartSidebarClose(){document.body.classList.add("cart-updated"),document.body.classList.remove("updating-cart")}function shoppingBag(){var e=document.getElementsByClassName("shopping-bag-button"),t=document.getElementById("shop-cart-sidebar");if(e.length&&t&&!document.body.classList.contains("woocommerce-cart")&&!document.body.classList.contains("woocommerce-checkout"))for(var o=0,n=e.length;o<n;o++)e[o].addEventListener("click",(function(e){e.preventDefault(),cartSidebarOpen(),closeAll()}))}var woostifyConditionScrolling=function(){return!!(document.body.classList.contains("woocommerce-demo-store")&&-1===document.cookie.indexOf("store_notice")||(document.body.classList.contains("has-order-sticky-button")||document.body.classList.contains("has-proceed-sticky-button"))&&window.innerWidth<768)},woostifyStockQuantityProgressBar=function(){var e=document.querySelectorAll(".woostify-single-product-stock-progress-bar");e.length&&e.forEach((function(e,t){var o=e.getAttribute("data-number")||0;e.style.width=o+"%"}))},woostifyQuantityMiniCart=function(){var e=document.querySelector(".shopping-bag-button .shop-cart-count, .boostify-count-product"),t=document.querySelectorAll(".mini-cart-product-infor");t.length&&e?(e.classList.remove("hide"),t.forEach((function(e,t){var o=e.querySelectorAll(".mini-cart-product-qty"),n=e.querySelector("input.qty"),a=n.getAttribute("data-cart_item_key")||"",c=new Event("change"),r=new Event("quantity_updated");if(o.length&&n){t=0;for(var i=o.length;t<i;t++)o[t].onclick=function(){var e=Number(n.value||0),t=Number(n.getAttribute("step")||1),o=Number(n.getAttribute("min")||1),a=Number(n.getAttribute("max")),r=this.getAttribute("data-qty");if(e<1||isNaN(e))alert(woostify_woocommerce_general.qty_warning);else{if("minus"===r){if(e<=o||e-t<o||e<=t)return;n.value=e-t}else if("plus"===r){if(a&&(e>=a||e+t>=a))return;n.value=e+t}n.dispatchEvent(c)}};n.addEventListener("change",(function(){var e=Number(n.value||0);if(e<1||isNaN(e))alert(woostify_woocommerce_general.qty_warning);else{var t=new Request(woostify_woocommerce_general.ajax_url,{method:"POST",body:"action=update_quantity_in_mini_cart&ajax_nonce="+woostify_woocommerce_general.ajax_nonce+"&key="+a+"&qty="+e,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});document.documentElement.classList.add("mini-cart-updating"),fetch(t).then((function(e){if(200!==e.status)throw alert(woostify_woocommerce_general.ajax_error),console.log("Status Code: "+e.status),e;return e.json()})).then((function(e){if(e.success){var t=e.data,o=document.querySelector(".cart-sidebar-content .woocommerce-mini-cart__total .woocommerce-Price-amount.amount"),n=document.querySelectorAll(".woostify-header-total-price, .boostify-subtotal"),a=document.querySelectorAll(".shop-cart-count, .boostify-count-product");if(o&&(o.innerHTML=t.total_price,n.length))for(var c=0,r=n.length;c<r;c++)n[c].innerHTML=t.total_price;if(a.length)for(var i=0,s=a.length;i<s;i++)a[i].innerHTML=t.item}})).catch((function(e){console.log(e)})).finally((function(){document.documentElement.classList.remove("mini-cart-updating"),document.dispatchEvent(r)}))}}))}}))):e&&e.classList.add("hide")},updateHeaderCartPrice=function(){var e=document.querySelector(".cart-sidebar-content .woocommerce-mini-cart__total .woocommerce-Price-amount.amount"),t="",o=document.querySelectorAll(".woostify-header-total-price");if(o.length){switch(woostify_woocommerce_general.currency_pos){case"left":t='<span class="woocommerce-Price-amount amount"><bdi><span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span>0</bdi></span>";break;case"right":t='<span class="woocommerce-Price-amount amount"><bdi>0<span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span></bdi></span>";break;case"left_space":t='<span class="woocommerce-Price-amount amount"><bdi><span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span>&nbsp;0</bdi></span>";break;case"right_space":t='<span class="woocommerce-Price-amount amount"><bdi>0&nbsp;<span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span></bdi></span>"}for(var n=0,a=o.length;n<a;n++)o[n].innerHTML=e?'<span class="woocommerce-Price-amount amount">'+e.innerHTML+"</span>":t}};document.addEventListener("DOMContentLoaded",(function(){shoppingBag(),woostifyQuantityMiniCart(),window.addEventListener("load",(function(){woostifyStockQuantityProgressBar()})),woostifyInfiniteScroll(!0),jQuery(document.body).on("adding_to_cart",(function(){eventCartSidebarOpen(),document.body.classList.contains("disabled-sidebar-cart")||cartSidebarOpen()})).on("added_to_cart",(function(){woostifyQuantityMiniCart(),updateHeaderCartPrice(),eventCartSidebarClose(),closeAll()})).on("removed_from_cart",(function(){woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("updated_cart_totals",(function(){"function"==typeof customQuantity&&customQuantity(),woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("wc_fragments_loaded wc_fragments_refreshed",(function(){woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("wc_cart_emptied",(function(){location.reload()}))}));